<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TestesPP.Views.MainPage">

	<!-- FUNDO LARANJA -->
	<ContentPage.Background>
		<LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
			<GradientStop Color="#F97316" Offset="0"/>
			<GradientStop Color="#431407" Offset="1"/>
		</LinearGradientBrush>
	</ContentPage.Background>

	<ScrollView>
		<VerticalStackLayout Padding="20" Spacing="22">

			<!-- TÍTULO -->
			<Label Text="Previsão do Tempo"
                   FontSize="30"
                   FontAttributes="Bold"
                   TextColor="#FFF7ED"
                   HorizontalOptions="Center"/>

			<Label Text="{Binding CidadeEstado}"
                   FontSize="16"
                   TextColor="#FFEDD5"
                   HorizontalOptions="Center"/>

			<!-- BUSCA -->
			<Frame BackgroundColor="#FFF7ED"
                   CornerRadius="22"
                   Padding="16"
                   BorderColor="#FDBA74">

				<VerticalStackLayout Spacing="12">

					<Entry Placeholder="Digite o CEP"
                           Text="{Binding Cep}"
                           Keyboard="Numeric"
                           BackgroundColor="#FFEDD5"
                           TextColor="#431407"
                           PlaceholderColor="#9A3412"/>

					<Button Text="Buscar previsão"
                            Command="{Binding BuscarCommand}"
                            BackgroundColor="#EA580C"
                            TextColor="White"
                            CornerRadius="14"/>

				</VerticalStackLayout>
			</Frame>

			<!-- HOJE -->
			<Frame BackgroundColor="#FFF7ED"
                   CornerRadius="30"
                   Padding="20"
                   BorderColor="#FDBA74">

				<VerticalStackLayout HorizontalOptions="Center">

					<Label Text="{Binding ClimaHoje.DiaSemana}"
                           FontSize="18"
                           FontAttributes="Bold"
                           TextColor="#9A3412"/>

					<Image Source="{Binding ClimaHoje.Icon}"
                           WidthRequest="100"
                           HeightRequest="100"/>

					<Label Text="{Binding ClimaHoje.Condicao}"
                           FontSize="22"
                           FontAttributes="Bold"
                           TextColor="#431407"/>

					<HorizontalStackLayout Spacing="20">

						<Label Text="{Binding ClimaHoje.TempMax, StringFormat='↑ {0}°C'}"
                               TextColor="#DC2626"
                               FontAttributes="Bold"/>

						<Label Text="{Binding ClimaHoje.TempMin, StringFormat='↓ {0}°C'}"
                               TextColor="#2563EB"
                               FontAttributes="Bold"/>

					</HorizontalStackLayout>

				</VerticalStackLayout>
			</Frame>

			<!-- PRÓXIMOS DIAS -->
			<Label Text="Próximos dias"
                   FontSize="20"
                   FontAttributes="Bold"
                   TextColor="#FFF7ED"/>

			<CollectionView ItemsSource="{Binding Previsoes}"
                            ItemsLayout="HorizontalList"
                            HeightRequest="200">

				<CollectionView.ItemTemplate>
					<DataTemplate>
						<Frame WidthRequest="150"
                               Margin="8"
                               Padding="14"
                               CornerRadius="22"
                               BackgroundColor="#FFF7ED"
                               BorderColor="#FDBA74">

							<VerticalStackLayout HorizontalOptions="Center">

								<Label Text="{Binding DiaSemana}"
                                       FontAttributes="Bold"
                                       FontSize="14"
                                       TextColor="#9A3412"/>

								<Image Source="{Binding Icon}"
                                       WidthRequest="60"
                                       HeightRequest="60"/>

								<Label Text="{Binding TempMax, StringFormat='↑ {0}°C'}"
                                       TextColor="#DC2626"
                                       FontAttributes="Bold"/>

								<Label Text="{Binding TempMin, StringFormat='↓ {0}°C'}"
                                       TextColor="#2563EB"
                                       FontAttributes="Bold"/>

							</VerticalStackLayout>
						</Frame>
					</DataTemplate>
				</CollectionView.ItemTemplate>

			</CollectionView>

		</VerticalStackLayout>
	</ScrollView>

</ContentPage>
